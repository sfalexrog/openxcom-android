language: android
dist: trusty
sudo: false
addons:
  apt:
    packages:
     - p7zip-full
env:
  - BUILD_ARCH_LIST='armeabi'
  - BUILD_ARCH_LIST='armeabi-v7a'
  - BUILD_ARCH_LIST='x86'
  - BUILD_ARCH_LIST='x86_64'
  - BUILD_ARCH_LIST='arm64-v8a'
before_install:
  - yes | ${ANDROID_HOME}/tools/bin/sdkmanager --update
  - wget --timeout=120 https://dl.google.com/android/repository/android-ndk-r15c-linux-x86_64.zip -O ndk.zip
  - sha1sum ndk.zip | grep 0bf02d4e8b85fd770fd7b9b2cdec57f9441f27a2
  - 7z x ndk.zip > /dev/null
  - export ANDROID_NDK=$(pwd)/android-ndk-r15c
  - printf "ndk.dir=$ANDROID_NDK" > local.properties
after_success:
  - ls -laR app/build/outputs
android:
  components:
    - tools
    - build-tools
    - tools
jdk:
  - oraclejdk8
